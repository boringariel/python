# 자판기 프로그램 만들기

-   ### 파이썬을 이용해 자판기 프로그램을 만들자!
-   ### 프로그램 구성하기

    > 자판기 프로그램을 구성하자. <br>
    > 프로그램 개요는 아래와 같다.

    1.  물건의 가격을 정한다.
    2.  지폐와 동전이 투입되면, 투입된 지폐와 동전의 개수를 인식한다.
    3.  투입된 금액을 보여준다.
    4.  물건을 구매하면, 물건값만큼 투입된 금액을 차감한다.
    5.  남은 금액을 반환한다.

    > 위와 같은 알고리즘으로 동작하는 프로그램을 만들 계획이다.

-   ### 프로그램 코드 작성하기

    > 우선, '프로그램 구성하기'의 설계 방법에 따라 코드를 작성해 보자.<br>
    > 1번 항목을 구현하기 위해, 물건의 이름과 가격을 변수에 할당하자.<br>
    > 물건의 이름은 itemName으로, 가격은 itemPrice로 정했다.

    ```{.python}
    itemName = '커피'
    itemPrice = 300
    ```

    > 이렇게 해서 커피의 가격을 300원으로 정하였다.<p>
    > 그 다음은, 지폐와 동전을 투입할 때, 투입된 수를 인식하도록 해 보자.<br>
    > (투입된 돈은 사용자로부터 입력받도록 한다)<p>
    > 편의상 1000원짜리 지폐, 500원짜리 동전, 100원짜리 동전만 투입할 수 있도록 하며, 각각 bill, coin500, coin100의 변수에 할당하고 총액을 total 변수에 할당한다.

    ```{.python}
    bill = int(input("1000원 지폐개수: "))
    coin500 = int(input("500원 동전개수: "))
    coin100 = int(input("100원 동전개수: "))
    total = bill * 1000 + coin500 * 500 + coin100 * 100
    ```

    > 이제, 자판기에서 커피를 구매하는 것만 남았다.<br>
    > 몇 잔의 커피를 구매할지 물어본 뒤, 이를 변수에 저장해 보자.<br>
    > 구매할 커피의 수량을 buyCoffee 변수에 입력받는다.

    ```{.python}
    buyCoffee = int(input("%s 몇 잔을 구매할까요?: " %itemName))
    ```

    > `%s` 는 문자형 변수를 불러오는 역할을 한다. 1번 문서의 %d와 비슷한 기능이다. <br>
    > 구매할 커피 수량에 커피 가격을 곱한 다음, 투입된 돈에서 빼 준다. 이 때, 커피를 몇 잔 구매했는지 알려준다.

    ```{.python}
    total = total - buyCoffee * itemPrice
    print("%s %d잔을 구매했습니다." %(itemName, buyCoffee))
    ```

    > 이제, 남은 돈을 반환해준다. 반환에는 // 연산자와 % 연산자를 사용한다.<br>
    > (반환에는 500원과 100원짜리 동전만 이용한다)<p>
    > 반환된 금액은 print 구문을 이용해 표시해 준다.

    ```{.python}
    nCoin500 = total // 500
    total = total % 500

    nCoin100 = total // 100

    print("반환된 500원: %d 개\n반환된 100원: %d 개"%(nCoin500, nCoin100))
    ```

-   ### 결과 확인하기

    > 잘 따라했다면, 아래와 같은 결과창을 만나볼 수 있다.

      <img src="https://github.com/boringariel/python/blob/master/lecture/image/vending_machine.JPG?raw=true">

-   ### 프로그램 수정하기

    > 위 프로그램은 투입한 돈보다 커피를 많이 구매할 수 있다. if문을 이용하면, 구매할 커피의 가격이 투입한 돈보다 많을 때 이를 인식하고 에러메시지를 띄울 수 있다. 아직 if문을 배우지 않았지만, 알고리즘은 만들 수 있을 것이다.

-   ### 소스코드
    > 자판기 프로그램의 소스코드는 소스코드 폴더 안에 vending_machine.py(<a href="https://github.com/boringariel/python/blob/master/%EC%86%8C%EC%8A%A4%EC%BD%94%EB%93%9C/vending_machine.py">바로가기</a>) 파일로 업로드되어 있다. 막히는 부분이 있다면 이를 참고해 보자.
